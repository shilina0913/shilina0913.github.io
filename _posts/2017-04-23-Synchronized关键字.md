Synchronized关键字

java中的每一个对象豆可以作为锁，具体表现为以下3种形式。

1. 对于普通方法，锁是当前实例。
2. 对于静态方法，锁是当前类的静态方法。
3. 对于同步方法块，锁是synchronized括号内的对象

synchronized是通过对象内部的一个叫做监视器锁来实现的，但监视器锁本质上又依赖于操作系统的Mutex Lock。而操作系统之间实现线程的切换需要从用户态转换到核心态，成本非常高。依赖于Mutex Lock实现的锁称之为重量锁。为提高性能，引入了偏向锁以及轻量锁。可通过-XX:-UseBiasedLocking=false来禁用偏向锁。轻量及锁并不是用来代替重量锁的，轻量级锁所适应的场景是线程交替执行同步块的情况，如果在同一时间访问统一锁的情况，就会导致轻量级锁膨胀为重量级锁。

引入偏向锁是为了在无多线程竞争的情况下减少不必要的轻量级锁执行，因为轻量级锁的获取以及释放依赖多次CAS指令。轻量级锁是为了在线程交替执行同步块时提高性能，而偏向锁是在只有一个线程执行同步快时提高性能。


注：以上内容参考http://blog.csdn.net/wangtaomtk/article/details/52264043

